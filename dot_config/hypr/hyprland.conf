# defaults
source = ~/.local/share/omarchy/default/hypr/autostart.conf
source = ~/.local/share/omarchy/default/hypr/bindings/media.conf
source = ~/.local/share/omarchy/default/hypr/bindings/clipboard.conf
source = ~/.local/share/omarchy/default/hypr/bindings/tiling-v2.conf
source = ~/.local/share/omarchy/default/hypr/bindings/utilities.conf
source = ~/.local/share/omarchy/default/hypr/envs.conf
source = ~/.local/share/omarchy/default/hypr/looknfeel.conf
source = ~/.local/share/omarchy/default/hypr/input.conf
source = ~/.local/share/omarchy/default/hypr/windows.conf

# remove unnecessary binds
unbind = SUPER SHIFT, BACKSPACE
unbind = SUPER SHIFT CTRL, SPACE
unbind = SUPER CTRL, SPACE
unbind = SUPER, COMMA
unbind = SUPER SHIFT, COMMA
unbind = SUPER CTRL, COMMA
unbind = SUPER ALT, COMMA
unbind = SUPER CTRL, I
unbind = SUPER CTRL, N
unbind = , PRINT
unbind = SHIFT, PRINT
unbind = ALT, PRINT
unbind = SUPER, PRINT
unbind = SUPER CTRL, T
unbind = SUPER CTRL, B
unbind = SUPER, SPACE
unbind = SUPER ALT, SPACE


# reminders
# install hyprquickshot (https://github.com/JamDon2/hyprquickshot/)
# install Stack Sans Text
# install uosc
# install matugen
# install chezmoi
# .sh files executable

source = colors.conf

# autostart
exec-once = sleep 3 && AmneziaVPN
exec-once = sleep 3 && pkill swaybg
exec-once = hypridle

# keyboard and mouse
input {
    kb_layout = us,ru
    kb_options = grp:alt_shift_toggle
    repeat_rate = 40
    repeat_delay = 600
    numlock_by_default = true
    accel_profile = flat
    sensitivity = 0.55
    touchpad {
        scroll_factor = 0.4
  }
}
windowrule = scrolltouchpad 1.5, class:(Alacritty|kitty)
windowrule = scrolltouchpad 0.2, class:com.mitchellh.ghostty

# monitors
env = GDK_SCALE,1
monitor = DP-2, 2560x1440@165,1080x0, auto
monitor = HDMI-A-1, 1920x1080@74.97, 0x-380, auto, transform, 3

# window rules
windowrulev2 = opacity 1.0 override, focus:1
windowrulev2 = tile, title:^(Steam)$
windowrulev2 = opacity 1.0 override 1.0 override, class:^(helium)$

# applications
$terminal = ghostty
$fileManager = nautilus
$browser = helium-browser
$rofi = pkill rofi || rofi -show drun -theme $HOME/.config/rofi/style.rasi
$menu = vicinae toggle
$wall = $HOME/.config/hypr/scripts/wallSelect.sh

# scripts
bindd = SUPER SHIFT, J, Toggle monitor, exec, ~/.config/hypr/scripts/monitor.sh
exec-once = ~/.config/hypr/scripts/monitor_init.sh
bindd = SUPER CONTROL, Z, Start/save recording, exec, ~/.config/hypr/scripts/record_save.sh
bindd = SUPER CONTROL, X, Stop recording, exec, ~/.config/hypr/scripts/record_stop.sh
bindd = SUPER ALT, SPACE, Omarchy menu, exec, ~/.config/hypr/scripts/omarchy_menu


# binds
bindd = SUPER, RETURN, Terminal, exec, $terminal
bindd = SUPER, SPACE, rofi, exec, $menu
bindd = SUPER CONTROL, SPACE, Wallpaper, exec, $wall
bindd = SUPER, E, File manager, exec, $fileManager --new-window
bindd = SUPER, B, Browser, exec, $browser
bindd = , Home, Screenshot, exec, HQS_DIR=$HOME/Screenshots quickshell -c hyprquickshot -n
bindd = ALT, Home, Color picker, exec, pkill hyprpicker || hyprpicker -a
bindd = SUPER, P, Toggle window floating, togglefloating

# smart gaps
workspace = w[tv1], gapsout:0, gapsin:0
workspace = f[1], gapsout:0, gapsin:0
windowrulev2 = bordersize 0, floating:0, onworkspace:w[tv1]
windowrulev2 = rounding 0, floating:0, onworkspace:w[tv1]
windowrulev2 = bordersize 0, floating:0, onworkspace:f[1]
windowrulev2 = rounding 0, floating:0, onworkspace:f[1]
decoration:blur:popups = true

# environment variables
env = XCURSOR_SIZE,12

# theme
general {
    gaps_in = 6
    gaps_out = 6
    border_size = 2
    col.active_border = $outline
    col.inactive_border = $outline_variant
    resize_on_border = true
    extend_border_grab_area = 15
    allow_tearing = false
    layout = dwindle
}


animations {
    enabled = yes
    bezier = snappy, 0.25, 0.46, 0.45, 0.94
    bezier = smooth, 0.23, 1, 0.32, 1
    bezier = slide, 0.165, 0.84, 0.44, 1
    bezier = overshot, 0.13, 0.99, 0.29, 1.1

    animation = windows, 1, 4, snappy, slide
    animation = windowsIn, 1, 4, overshot, popin 85%
    animation = windowsOut, 1, 3, snappy, popin 85%
    animation = windowsMove, 1, 4, snappy
    animation = fade, 1, 5, smooth
    animation = fadeIn, 1, 4, smooth
    animation = fadeOut, 1, 3, smooth
    animation = workspaces, 1, 3, smooth, slidefade 20%
    animation = border, 1, 5, default
    animation = borderangle, 1, 8, default
    animation = layersIn, 1, 3, smooth, popin 85%
    animation = layersOut, 1, 2, snappy, popin 85%
    animation = specialWorkspace, 1, 3, overshot, slidefade 15%
}

decoration {
    rounding = 10

    shadow {
        enabled = true
        range = 16
        render_power = 3
        color = $shadow
        color_inactive = $shadow
        offset = 0 0
    }

    blur {
        enabled = true
        size = 6
        passes = 3
        contrast = 1.5
        brightness = 0.8
        vibrancy = 0.2
        vibrancy_darkness = 0.2
        noise = 0.07
        ignore_opacity = true
        new_optimizations = on
    }
    active_opacity = 0.98
    inactive_opacity = 0.9
    fullscreen_opacity = 1.0
}

gestures {
    gesture = 3, left, dispatcher, workspace, -1
    gesture = 3, right, dispatcher, workspace, +1
}

misc {
   background_color = $background
}

layerrule = blur, walker
layerrule = ignorezero, walker
layerrule = blur, waybar
